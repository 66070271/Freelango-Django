{% extends "layout.html" %}
{% block title %}All Categories ‚Äî Freelango{% endblock %}

{% block content %}
{% include 'navbar.html' %}

<main class="pt-28 w-full pb-24">
  <div class="text-center mb-12">
    <h1 class="text-4xl font-bold text-gray-900">All Categories</h1>
    <p class="text-gray-600 mt-2">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
    <a href="{% url 'add_category' %}"
       class="inline-flex items-center gap-2 mt-6 px-6 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-medium shadow-md transition active:scale-[.98]">
      + Add Category
    </a>
  </div>

  <!-- üîπ Category Table -->
  <div class="mx-auto w-[90%] rounded-2xl border border-gray-200 bg-white shadow-md divide-y divide-gray-200">
    <!-- Header -->
    <div class="flex justify-between items-center py-4 px-8 bg-gray-50 border-b border-gray-200 text-gray-500 text-xs uppercase tracking-wider">
      <span class="w-1/3 text-left">Category</span>
      <span class="flex-1 text-left">Description</span>
      <span class="w-1/4 text-right">Actions</span>
    </div>

    <!-- Rows -->
    {% for category in categories %}
    <div class="flex justify-between items-center py-5 px-8 hover:bg-gray-50 transition">
      <!-- ‡∏ä‡∏∑‡πà‡∏≠ -->
      <div class="w-1/3">
        <h3 class="text-base font-semibold text-gray-900">{{ category.name }}</h3>
      </div>

      <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ -->
      <div class="flex-1 text-gray-700 text-sm">
        {{ category.description|default:"(no description)" }}
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏° -->
      <div class="w-1/4 flex justify-end gap-4">
        <a href="{% url 'edit_category' category.id %}" 
           class="text-indigo-600 hover:text-indigo-700 text-sm font-medium">Edit</a>
        <a href="{% url 'delete_category' category.id %}" 
           onclick="return confirmDelete(event)" 
           class="text-rose-500 hover:text-rose-600 text-sm font-medium">Delete</a>
      </div>
    </div>
    {% empty %}
      <p class="text-gray-500 text-center py-6">No categories found.</p>
    {% endfor %}
  </div>
</main>

<script>
function confirmDelete(e) {
  if (!confirm("‚ö†Ô∏è Are you sure you want to delete this category?")) {
    e.preventDefault();
    return false;
  }
  return true;
}
</script>
{% endblock %}
